<!DOCTYPE html>
<html>
<head>
	<meta charset = "utf-8">
	<meta name="viewport" content=<width="device-width, initial-scale=1">
	<title>Laugh Sender</title>
	<link rel="icon" type="image/x-icon" href="images/favicon.ico">
	<script type="text/javascript" src="js/code.js"></script>
    <link href="css/styles.css" rel="stylesheet">	
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Boogaloo&display=swap">
		
	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', function() {
			checkAuth();
			closeAddContact();
			closeEditContact();
			closeDeleteContact();
			loadContacts();
			searchJokes();
		});
	</script>
	
</head>
<body>
	<header>
		<div class="navbar">
			<div class="logo">
				<img src="images/logo.png" alt="Laugh Sender Logo"/>
			</div>
			<div class="title">
				<h1>Laugh Sender</h1>
			</div>
			<nav>
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="about.html">About</a></li>
					<li id="manButt"><a href="color.html">Manager</a></li>
					<li class="dropdown" id="userDropdown">
						<img id="account" src="images/key.png" alt="Account" title="Account Settings"/>
						<div class="dropdown-content">
							<a href="#" onclick="doLogout();">Log Out</a>
						</div>
					</li>
					<li id="loginButt"><a href="login.html">Login</a></li>
				</ul>	
			</nav>
		</div>
	</header>


<div class="contacts-container">
	<div class="action-box">
		<div class="search-box">
			<input type="text" id="contactSearch" placeholder="Search Contacts..." oninput="searchContacts()">
		</div>
		<div class="jokes-box">
			<span id="joke-holder"></span>
		</div>
		<div class="add-box">
			<button onclick="openAddContact()" title="Open add contact form">Add Contact</button>
		</div>
	</div>
	
	<table id="contacts">
		<thead>
			<tr>
				<th>Name</th>
				<th>Phone</th>
				<th>Email</th>
				<th></th>
			</tr>
		</thead>
		<tbody id="contacts-contents"></tbody>
	</table>
</div>
<div class="add-contacts-window" id="add-window">
	<div class="add-Form">
		<label>Name:</label>
		<input type="text" id="name" placeholder="Jane Doe">
		<label>Phone:</label>
		<input type="tel" id="phone" maxlength="12" placeholder="407-823-2000">
		<label>Email:</label>
		<input type="text" id="email" placeholder="name@email.com">
		
		<script type="text/javascript">
		phone.addEventListener('keydown', function() {
			if(event.key != 'Backspace' && (phone.value.length === 3 || phone.value.length === 7)){
				phone.value += '-';
			}
		});
		</script>
		
		<span id="add-warning"></span>
		<button onclick="addContact()" title="Add contact to manager">Save</button>
		<button onclick="closeAddContact()" title="Discard adding a contact">Cancel</button>
	</div>
</div>

<div class="edit-contacts-window" id="edit-window">
	<div class="edit-Form">
		<label>Name:</label>
		<input type="text" id="ename">
		<label>Phone:</label>
		<input type="tel" maxlength="12" id="ephone">
		<label>Email:</label>
		<input type="text" id="eemail">
		
		<script type="text/javascript">
		ephone.addEventListener('keydown', function() {
			if(event.key != 'Backspace' && (ephone.value.length === 3 || ephone.value.length === 7)){
				ephone.value += '-';
			}
		});
		</script>
		
		<span id="edit-warning"></span>
		<button id="save-button" title="Change contact information">Accept Changes</button>
		<button onclick="closeEditContact()" title="Discard changes">Cancel</button>
	</div>
</div>

<div class="delete-contacts-window" id="delete-window">
	<div class="delete-Form">
		<label>Are you sure about that?</label>
		<img class="are-you-sure" src="images/are-you-sure.gif" alt="Animated GIF">
		<span id="delete-warning"></span>
		<button id="yes-button" title="Yes, delete contact">I'm sure</button>
		<button id="no-button" title="No, do not delete contact" onclick="closeDeleteContact()">Nevermind</button>
	</div>
</div>

<div id="no-contacts-message" style="display: none;">
    <img src="images/no-contacts.gif" alt="No contacts GIF">
    <p>No contacts, go get more friends...</p>
</div>


</body>
</html>
